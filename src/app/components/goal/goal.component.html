<div class="everything">
  <div class="padding"></div>
  <div class="not_padding">
    <!-- Text field that holds the goal title -->
    <div class="titleArea">
      <mat-form-field>
        <mat-label>Title</mat-label>
        <textarea matInput
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="10"
                  [(ngModel)]="goal.title"></textarea>
      </mat-form-field>
      <div class="title">: {{goal.value.toFixed(1)}}%</div>
    </div>
    <div class="sliderArea">
      <mat-slider 
        min="0" 
        max="100" 
        step="5"
        (input)="updateLocalValue($event)"
        [value]="goal.value"
        disabled="{{ goal.subgoals.length > 0 }}"
      ></mat-slider>
      <button mat-button (click)="requestDelete()">Delete</button>
      <button mat-button (click)="addSubgoal()">Add subgoal</button>
      <mat-button-toggle [checked]="goal.showSubgoals" (click)="toggleSubgoals()">Toggle subgoals</mat-button-toggle>
    </div>
    <!-- TODO: add a vertical line for each indentation level -->
    <div class ="subgoals">
      <app-goal-deleter 
      *ngIf="goal.showSubgoals"
      [goal]="goal" 
      (updateValueDel)="emitValueUpdate()">
      </app-goal-deleter>
    </div>
  </div>
</div>